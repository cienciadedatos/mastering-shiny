# Prefacio {.unnumbered}

```{r include = FALSE}
source("_common.R")
```

## ¿Qué es Shiny?

Si nunca antes has usado Shiny, ¡te doy la bienvenida!
Shiny es un paquete de R que te permite crear con facilidad aplicaciones web interactivas y valiosas.
Shiny te permite tomar tu trabajo en R y exponerlo a través de un navegador web para que cualquier persona pueda utilizarlo. 
Shiny te hace lucir increíble al hacer posible producir fácilmente aplicaciones web refinadas con un mínimo de sufrimiento. 

En el pasado, crear aplicaciones web era difícil para la mayoría de las personas que usaban R porque:

-   se necesita un conocimiento profundo de tecnologías web como HTML, CSS y JavaScript.

-   hacer aplicaciones interactivas complejas requiere un análisis cuidadoso de los flujos de interacción para asegurarse de que cuando un input cambia, solo los outputs relacionados se actualizan. 

Shiny hace significativamente más fácil crear aplicaciones web para alguien que programa en R porque:

-   Proporciona un conjunto cuidadosamente seleccionado de funciones de interfaz de usuario (**UI**) que generan el HTML, CSS y JavaScript necesario para tareas comunes.
    Esto significa que no es necesario que conozcas todos los detalles sobre HTML/CSS/JavaScript hasta que quieras ir más allá de lo básico que Shiny provee para ti.

-   Introduce un nuevo estilo de programación, conocida como **programación reactiva**, que automáticamente monitorea las dependencias de los bloques de código. 
    Esto significa que cada vez que un input cambia, Shiny puede resolver automáticamente cómo actualizar todos los outputs relacionados con ese input con la menor cantidad de trabajo. 
    
La gente usa Shiny para:

-   Crear tableros (_dashboards_) para hacer seguimiento de importantes indicadores de rendimiento de alto nivel, que facilitan, a la vez, el desglose de las métricas que requieren más investigación. 

-   Remplazar cientos de páginas de PDFs con aplicaciones interactivas que permiten a usuarios y usuarias ir directamente a la parte de los resultados que les interesan.

-   Comunicar modelos complejos a una audiencia no técnica usando visualizaciones informativas y análisis de sensibilidad interactivos.

-   Proveer un autoservicio de análisis de datos para flujos de trabajo comunes, remplanzando peticiones vía correo electrónico por una aplicación Shiny que permite a las personas cargar sus propios datos y realizar análisis estandar.
    Puedes hacer que análisis sofisticados en R estén disponibles para personas sin conocimientos de programación.

-   Crear demos interactivos para enseñar conceptos de estadística y ciencia de datos que permita a quienes están aprendiendo modificar los inputs y observar los efectos de esas modificaciones en un análisis.

En resumen, Shiny te da la posibilidad de traspasar algunos de tus superpoderes de R a cualquier persona que pueda utilizar la web.

## ¿Quién debería leer este libro?

Este libro está dirigido principalmente a dos tipos de audiencia:

-   Personas que usan R y que están interesadas en aprender sobre Shiny para convertir sus análisis en aplicaciones web interactivas.
    Para aprovechar al máximo este libro, deberías ya sentir comodidad usando R para análisis de datos y haber escrito al menos un par de funciones. 

-   Personas que ya usan Shiny y que quieren profundizar su conocimiento sobre la teoría que está a la base con el fin de escribir más rápido y con más facilidad aplicaciones de mayor calidad. 
    Encontrarás este libro particularmente útil si tus aplicaciones están comenzando a hacerse más grandes y estás empezando a tener problemas para manejar la complejidad. 

## ¿Qué aprenderás?

El libro está dividido en cuatro partes:

1.  En "Comenzando" aprenderás los conceptos básicos sobre Shiny para que puedas ponerte en marcha lo más rápido posible. 
    Aprenderás sobre los elementos básicos de la estructura de una aplicación, los componentes útiles de la interfaz de usuario (UI) y los fundamentos de la programación reactiva.

2.  "Shiny en acción" toma como base los conceptos básicos para ayudarte a resolver problemas comunes, como dar retroalimentación a usuarios y usuarias, cargar y descargar datos, generar interfaces de usuario con código, reducir la duplicación de código y usar Shiny para programar con el tidyverse.

3.  En "Dominar la reactividad", profundizarás en la teoría y práctica de la programación reactiva, el paradigma de programación que está a la base de Shiny. 
    Si ya utilizas Shiny, este capítulo será particularmente valioso, ya que te dará una base teórica sólida que te permitirá crear nuevas herramientas específicamente diseñadas para tus propios problemas. 

4.  Finalmente, en "Mejores prácticas" terminaremos con una revisión de técnicas útiles para hacer que tus aplicaciones Shiny funcionen bien en producción.
    Aprenderás a descomponer aplicaciones complejas en funciones y módulos, a utilizar paquetes para organizar tu código, a testear tu código para asegurarte que funciona correctamente y a medir y mejorar el desempeño de tus aplicaciones.

## ¿Qué no aprenderás?

El foco de este libro es crear aplicaciones Shiny efectivas y entender la teoría sobre la reactividad que está a la base. 
Haré mi mejor esfuerzo para mostrar mejores prácticas de ciencia de datos, programación en R e ingeniería de software, pero necesitarás otras referencias para dominar estas importantes habilidades. 
Si disfrutas mi escritura en este libro, podrían gustarte mis otros libros sobre estos temas: [R for Data Science](http://r4ds.had.co.nz/), que tiene una [versión en español](https://es.r4ds.hadley.nz/), [Advanced R](http://adv-r.hadley.nz/) y [R Packages](http://r-pkgs.org/).

Existen también un número importante de temas específicos sobre Shiny que no serán abordados: 

-   Este libro solo cubre el set de herramientas de interfaz de usuario que viene integrado en Shiny. 
    Este no proporciona el diseño más sexy posible, pero es fácil de aprender y te puede llevar lejos. 
    Si tienes necesidades adicionales (o simplemente te aburres del diseño por defecto), existe una serie de otros paquetes que proveen _front ends_ alternativos. 
    Revisa la sección \@ref(other-tools) para más detalles.

-   Implementación de aplicaciones Shiny.
    Llevar aplicaciones Shiny "a producción" está fuera del alcance de este libro, ya que es algo que varía de compañía a compañía y que en gran parte no está relacionado con R (la mayoría de los desafíos tienden a ser culturales u organizacionales, no técnicos).
    Si te estás iniciando en el tema de Shiny en producción, te sugiero partir viendo la charla magistral de Joe Cheng en la rstudio::conf de 2019: <https://rstudio.com/resources/rstudioconf-2019/shiny-in-production-principles-practices-and-tools/>.
    Eso te dará una mirada panorámica que discute de manera general qué es lo que implica poner Shiny en producción y cómo sobreponerse a los desafíos que seguramente enfrentarás en el proceso. 
    Una vez que termines con eso, revisa el [sitio web de RStudio Connect (en inglés)](https://rstudio.com/products/connect/) para aprender sobre los productos de RStudio para implementar aplicaciones dentro de tu compañía y el [sitio web de Shiny](https://shiny.rstudio.com/articles/#deployment) para otros escenarios comunes de implementación.

## Prerrequisitos {#prerequisites}

Antes de continuar, asegúrate de tener todo el software necesario para seguir este libro:

-   **R**: Si todavía no tienes R instalado, quizás estás leyendo el libro equivocado; a lo largo del libro se asume familiaridad básica con R. 
    Si quieres aprender a usar R, te recomiendo mi libro[*R for Data Science*](https://r4ds.had.co.nz/), que está diseñado para ponerte en marcha con R con el mínimo de complicaciones.

-   **RStudio**: RStudio es un entorno de desarrollo integrado (IDE) para R que es gratuito y de código abierto.
    Si bien puedes escribir y usar aplicaciones Shiny con cualquier entorno de R (incluida la GUI de R y [ESS](http://ess.r-project.org)), RStudio tiene algunas características muy atractivas espacíficamente pensadas para la creación, depuración e implementación de aplicaciones Shiny.
    Te recomiendo probarlo, pero no es algo necesario para tener éxito con Shiny o con este libro. 
    Puedes descargar RStudio Desktop desde <https://www.rstudio.com/products/rstudio/download>

-   **Paqutes de R**: Este libro utiliza una serie de paquetes de R.
    Puedes instalarlos todos de una vez ejecutando: 

    ```{r, echo = FALSE, cache = FALSE}
    deps <- desc::desc_get_deps()
    pkgs <- sort(deps$package[deps$type == "Imports"])
    pkgs2 <- strwrap(paste(encodeString(pkgs, quote = '"'), collapse = ", "), exdent = 2)

    install <- paste0(
      "install.packages(c(\n  ", 
      paste(pkgs2, "\n", collapse = ""), 
      "))"
    )
    ```

    ```{r code = install, eval = FALSE}
    ```

    Si ya tienes descargado Shiny, asegúrate que es al menos la versión 1.6.0.

## Agradecimientos

Este libro fue escrito de forma abierta y los capítulos fueron anunciados en Twitter cuando estuvieron listos. 
Es realmente un esfuerzo de la comunidad: muchas personas leyeron los borradores, arreglaron erratas, sugirieron mejoras y contribuyeron con contenido. 
Sin estas contribuciones el libro no sería tan bueno como es, por lo que estoy profundamente agradecido por su ayuda. 

```{r, eval = FALSE, echo = FALSE}
library(tidyverse)
contribs_all_json <- gh::gh("/repos/:owner/:repo/contributors",
  owner = "hadley",
  repo = "mastering-shiny",
  .limit = Inf
)
contribs_all <- tibble(
  login = contribs_all_json %>% map_chr("login"),
  n = contribs_all_json %>% map_int("contributions")
)

contribs_old <- read_csv("contributors.csv", col_types = list())
contribs_new <- contribs_all %>% anti_join(contribs_old, by = "login")

# Get info for new contributors
needed_json <- map(
  contribs_new$login, 
  ~ gh::gh("/users/:username", username = .x)
)
info_new <- tibble(
  login = contribs_new$login,
  name = map_chr(needed_json, "name", .default = NA),
  blog = map_chr(needed_json, "blog", .default = NA)
)
info_old <- contribs_old %>% select(login, name, blog)
info_all <- bind_rows(info_old, info_new)

contribs_all <- contribs_all %>% 
  left_join(info_all, by = "login") %>% 
  arrange(login)
write_csv(contribs_all, "contributors.csv")
```

```{r, results = "asis", echo = FALSE, message = FALSE}
library(dplyr)
contributors <- readr::read_csv("contributors.csv")
contributors <- contributors %>% 
  filter(login != "hadley") %>% 
  mutate(
    login = paste0("\\@", login),
    desc = ifelse(is.na(name), login, paste0(name, " (", login, ")"))
  )

cat("A big thank you to all ", nrow(contributors), " people who contributed specific improvements via GitHub pull requests (in alphabetical order by username): ", sep = "")
cat(paste0(contributors$desc, collapse = ", "))
cat(".\n")
```

## Colofón

Este libro fue escrito en [RStudio](http://www.rstudio.com/ide/) usando [bookdown](http://bookdown.org/).
El [sitio web](http://mastering-shiny.org/) está hospedado en [netlify](http://netlify.com/) y se actualiza automáticamente luego de cada _commit_ usando [Github Actions](https://github.com/features/actions).
El código fuente completo se encuentra disponible en [GitHub](https://github.com/hadley/mastering-shiny).

Esta versión del libro fue compilada con `r R.version.string` y los siguientes paquetes:

```{r, echo = FALSE, results="asis"}
pkgs <- sessioninfo::package_info(pkgs, dependencies = FALSE)
df <- tibble(
  package = pkgs$package,
  version = pkgs$ondiskversion,
  source = gsub("@", "\\\\@", pkgs$source)
)
knitr::kable(df, format = "markdown")
```

```{r, echo = FALSE}
ruler <- function(width = getOption("width")) {
  x <- seq_len(width)
  y <- dplyr::case_when(
    x %% 10 == 0 ~ as.character((x %/% 10) %% 10),
    x %% 5 == 0  ~ "+",
    TRUE         ~ "-"
  )
  cat(y, "\n", sep = "")
  cat(x %% 10, "\n", sep = "")
}
```

```{r, include = FALSE}
ruler()
```
